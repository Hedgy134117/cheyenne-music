{% extends "base.njk" %}

{% block title %}Top 50 Songs{% endblock %}

{% block head %}
{% endblock %}

{% block content %}
<p class="heading center">Top 50 Songs</p>
<ol reversed>
    {% set sortedSongs = collections.all | sort(true, false, attribute="data.rank") %}
    {% for song in sortedSongs %}
    {% if '/songs/' in song.url and song.url != page.url %}
    {% set rank = song.data.rank %}
    <li class="song" id="{{ song.data.rank }}" style="
            margin-left: calc(20% + sin({{ rank }}deg * 360deg / 50deg) * 20%);
            transform-origin: left center;
            transform: rotate(calc(sin({{ rank }}deg * 360deg / 50deg * -1) * 10deg));
            margin-bottom: 1em;
        ">
        <!-- <a href="{{ song.url }}"> -->
        <i>{{ song.data.title | markdownin | safe }}</i> by {{ song.data.artist | markdownin | safe }}
        <!-- </a> -->
        <!-- <hr> -->
    </li>
    {% endif %}
    {% endfor %}
</ol>
{% endblock%}